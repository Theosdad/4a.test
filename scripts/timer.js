var l=document.getElementById("modal"),u=document.querySelectorAll(".modal-close"),d=()=>{l.style.display="block"},p=()=>{l.style.display="none"};u.forEach(t=>t.addEventListener("click",p));var h=async()=>{try{let t=await fetch("https://t-pay.iqfit.app/subscribe/list-test");if(!t.ok)throw new Error("Failed to fetch data");return await t.json()}catch{throw new Error("Failed to fetch data")}},f=h();var m=t=>{let n=t.filter(s=>s.isDiscount===!1&&s.isPopular===!1);document.querySelectorAll(".tariff-list__insert").forEach((s,o)=>{if(o<n.length){let e=n[o],r=`
          <h2 class="tariff-name">${e.name}</h2>
          <span class="tariff-price">${e.price}\u20BD</span>
        `;s.innerHTML="",s.insertAdjacentHTML("beforeend",r)}})};var S=()=>{document.addEventListener("DOMContentLoaded",()=>{let t=document.querySelector(".timer"),n=document.getElementById("minutes"),c=document.getElementById("seconds"),s=document.querySelectorAll(".tariff-list__item"),o=2,e=0,r=()=>{n.textContent=o.toString().padStart(2,"0"),c.textContent=e.toString().padStart(2,"0")},i=setInterval(()=>{if(o===0&&e===0&&(clearInterval(i),s.forEach(a=>{a.classList.add("no-discount")}),f.then(a=>{m(a)}),d()),o===0&&e===30&&t.classList.toggle("expired"),e===0){if(o===0){clearInterval(i);return}o--,e=59}else e--;r()},1e3);r()})};export{S as initTimer};
